import{a as Q}from"./chunk-EFQI3KFR.js";import{a as w,c as R,d as M,f as G,h as V,i as k,s as I,t as K}from"./chunk-P3IMJ623.js";import{Ca as T,E as l,H as g,R as p,S as u,T as x,U as y,V as _,W as a,X as r,Y as o,ba as F,ca as h,da as c,ga as b,ha as D,ia as S,la as i,na as E,r as f,ra as N,s as C,t as v,y as d}from"./chunk-ZKFZ3KB2.js";var P=["textarea"],$=t=>({"bg-blue-100 font-bold text-blue-800":t});function q(t,n){if(t&1){let e=F();r(0,"li",12),h("click",function(){let s=C(e).$implicit,O=c();return v(O.updateSelectedDriver(s))}),i(1),o()}if(t&2){let e=n.$implicit,m=c();a("ngClass",N(2,$,m.selectedDriver()===e)),l(),E(" ",e," ")}}function A(t,n){if(t&1&&(r(0,"form",10)(1,"div",13)(2,"textarea",14,0),i(4,"          "),o(),r(5,"span",15),i(6,"\u{1F310}"),o()()()),t&2){let e=c();a("formGroup",e.form),l(2),a("formControl",e.currentFormControl())}}function B(t,n){t&1&&(r(0,"div",11),i(1,"Select a driver to add a comment."),o())}var j=class t{textareaRef;formService=f(Q);form=this.formService.mainForm.get("commentsForm");selectedDriver=d(this.controlKeys.at(0)||"");currentFormControl=d(this.form.get(this.controlKeys[0]));get controlKeys(){return Object.keys(this.form.controls)}updateSelectedDriver(n){this.selectedDriver.update(()=>n),this.currentFormControl.update(()=>this.form.get(n)),setTimeout(()=>{this.textareaRef?.nativeElement.focus()})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-comments"]],viewQuery:function(e,m){if(e&1&&b(P,5),e&2){let s;D(s=S())&&(m.textareaRef=s.first)}},decls:17,vars:2,consts:[["textarea",""],[1,"p-6"],[1,"text-xl","font-bold","mb-2"],[1,"text-gray-600","mb-6"],[1,"grid","grid-cols-3","gap-6"],[1,"col-span-1","rounded-md","p-4"],[1,"text-sm","font-semibold","text-gray-400","mb-2"],[1,"space-y-2"],[1,"p-3","rounded-md","cursor-pointer","hover:bg-gray-100","transition-colors",3,"ngClass"],[1,"col-span-2","rounded-md","p-4"],[3,"formGroup"],[1,"p-4","text-center","text-gray-500"],[1,"p-3","rounded-md","cursor-pointer","hover:bg-gray-100","transition-colors",3,"click","ngClass"],[1,"relative"],["rows","6","placeholder","Type your comment here...",1,"w-full","border","rounded-md","p-3","focus:outline-none","focus:border-blue-500",3,"formControl"],[1,"absolute","top-3","right-3","text-gray-400","text-lg"]],template:function(e,m){e&1&&(r(0,"div",1)(1,"h1",2),i(2,"Comments"),o(),r(3,"p",3),i(4,"Provide insights or justifications for each selected driver"),o(),r(5,"div",4)(6,"div",5)(7,"h2",6),i(8,"LIST OF DRIVER"),o(),r(9,"ul",7),y(10,q,2,4,"li",8,x),o()(),r(12,"div",9)(13,"h2",6),i(14,"COMMENT"),o(),p(15,A,7,2,"form",10),p(16,B,2,0,"div",11),o()()()),e&2&&(l(10),_(m.controlKeys),l(5),u(m.selectedDriver()?15:-1),l(),u(m.selectedDriver()?-1:16))},dependencies:[K,G,w,R,M,V,k,I,T],encapsulation:2})};export{j as CommentsComponent};
