import{a as E,c as _,f as N,g as F,o as T,p as V,r as A,s as O,t as M}from"./chunk-MCHYEH5B.js";import{A as v,J as f,K as g,M as x,N as b,O as h,P as r,Q as i,V as C,W as y,X as l,da as n,ea as S,fa as s,ja as D,ka as I,l as d,m as p,n as c,s as u,sa as w,x as m}from"./chunk-JI3CS4DV.js";var P=(o,t)=>t.id;function W(o,t){if(o&1){let e=C();r(0,"div",5)(1,"div",10)(2,"div",11),n(3),i(),r(4,"span",12),n(5),i()(),r(6,"input",13),y("input",function(){p(e);let j=l();return c(j.onWeightChange())}),i()()}if(o&2){let e=t.$implicit,a=l();m(3),s(" ",e.id," "),m(2),S(e.name),m(),h("formControl",a.getControl(e.id))}}function G(o,t){if(o&1&&(r(0,"div",9),n(1," Total weight must equal 100%. Current total: "),r(2,"span",14),n(3),D(4,"number"),i()()),o&2){let e=l();m(3),s("",I(4,1,e.totalWeight,"1.0-0"),"%")}}var R=class o{formService=d(M);form=this.formService.mainForm.get("impactDriversForm");driversData=[{id:"I",name:"INNOVATION",avg:88},{id:"M",name:"MOTIVATION",avg:67},{id:"P",name:"PERFORMANCE",avg:35},{id:"A",name:"AUTONOMY",avg:56},{id:"C",name:"CONNECTION",avg:32},{id:"T",name:"TRANSFORMATIONAL LEADERSHIP",avg:21}];drivers=u(this.driversData);constructor(){}get totalWeight(){return Object.values(this.form.value).reduce((t,e)=>t+Number(e),0)}get overallScore(){return Math.round(this.driversData.reduce((t,e)=>{let a=this.form.get(e.id)?.value||0;return t+a*e.avg/100},0))}get isValid(){return this.form.valid}onWeightChange(){this.form.updateValueAndValidity()}getControl(t){return this.form.get(t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-set-impact-drivers"]],decls:18,vars:2,consts:[[1,"p-6","bg-gray-50","rounded-lg"],[1,"text-xl","font-bold","mb-1"],[1,"text-sm","text-gray-600","mb-6"],[1,"flex","justify-between","items-center","py-2","px-4","bg-white","border-b","border-gray-200"],[1,"font-semibold","text-sm","text-gray-500"],[1,"flex","justify-between","items-center","py-3","px-4","hover:bg-gray-100"],[1,"mt-6","pt-4","border-t","border-gray-200","flex","justify-between","items-center"],[1,"font-medium"],[1,"w-20","px-2","py-1","bg-white","border","border-gray-300","rounded","text-right","font-bold"],[1,"mt-4","p-3","bg-yellow-100","text-yellow-800","rounded","text-sm"],[1,"flex","items-center","space-x-3"],[1,"w-8","h-8","bg-blue-600","text-white","rounded","flex","items-center","justify-center","font-bold","text-sm"],[1,"text-sm","font-medium"],["type","number","min","0","max","100",1,"w-20","px-2","py-1","border","border-gray-300","rounded","text-right","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","formControl"],[1,"font-bold"]],template:function(e,a){e&1&&(r(0,"div",0)(1,"h1",1),n(2,"Set the Impact Drivers"),i(),r(3,"p",2),n(4," Distribute the weightage (in percentages) for different factors. The total should sum up to 100%. The system will calculate the Overall Score dynamically based on the provided values. "),i(),r(5,"div",3)(6,"span",4),n(7,"DRIVERS"),i(),r(8,"span",4),n(9,"AVG."),i()(),x(10,W,7,3,"div",5,P),r(12,"div",6)(13,"span",7),n(14,"Overall Score"),i(),r(15,"div",8),n(16),i()(),f(17,G,5,4,"div",9),i()),e&2&&(m(10),b(a.drivers()),m(6),s(" ",a.overallScore,"% "),m(),g(a.form.hasError("totalNot100")?17:-1))},dependencies:[O,E,N,_,V,T,F,A,w],encapsulation:2})};export{R as SetImpactDriversComponent};
