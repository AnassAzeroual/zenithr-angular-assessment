import{a as O}from"./chunk-EFQI3KFR.js";import{a as S,c as E,d as w,f as y,g as N,i as F,l as V,r as M,t as P}from"./chunk-P3IMJ623.js";import{Ca as x,E as m,G as f,H as C,L as v,R as g,S as b,W as s,X as e,Y as t,Z as a,la as i,na as d,r as u,ra as h,u as c,v as p}from"./chunk-ZKFZ3KB2.js";var T=l=>({"text-red-500":l});function j(l,n){l&1&&(e(0,"p",19),i(1," The total must sum to 100%. "),t())}var G=class l{constructor(n){this.fb=n}formService=u(O);form=this.formService.mainForm.get("enpsForm");totalPercentage=0;overallScore=0;formValid=new v;ngOnInit(){this.form.valueChanges.subscribe(n=>{this.totalPercentage=this.getWeightageTotal(n),this.calculateOverallScore(n),this.formValid.emit(this.form.valid)}),this.totalPercentage=this.getWeightageTotal(this.form.value),this.calculateOverallScore(this.form.value),this.formValid.emit(this.form.valid)}getWeightageTotal(n){return Object.values(n).reduce((o,r)=>o+ +r,0)}calculateOverallScore(n){let{promoters:o,detractors:r}=n;this.overallScore=o-r||0}static \u0275fac=function(o){return new(o||l)(f(M))};static \u0275cmp=C({type:l,selectors:[["app-enps"]],outputs:{formValid:"formValid"},decls:34,vars:7,consts:[[1,"p-6"],[1,"text-xl","font-medium","mb-8","text-start"],[1,"flex","flex-row","items-center","justify-center","mb-10"],["width","42","height","40","viewBox","0 0 42 40","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mr-1"],["d","M21 3.75C15.1406 3.75 9.82812 6.875 6.85938 11.875C3.96875 16.9531 3.96875 23.125 6.85938 28.125C9.82812 33.2031 15.1406 36.25 21 36.25C26.7812 36.25 32.0938 33.2031 35.0625 28.125C37.9531 23.125 37.9531 16.9531 35.0625 11.875C32.0938 6.875 26.7812 3.75 21 3.75ZM21 40C13.8125 40 7.25 36.25 3.65625 30C0.0625 23.8281 0.0625 16.25 3.65625 10C7.25 3.82812 13.8125 0 21 0C28.1094 0 34.6719 3.82812 38.2656 10C41.8594 16.25 41.8594 23.8281 38.2656 30C34.6719 36.25 28.1094 40 21 40ZM23.5 8.75C23.5 10.1562 22.3281 11.25 21 11.25C19.5938 11.25 18.5 10.1562 18.5 8.75C18.5 7.42188 19.5938 6.25 21 6.25C22.3281 6.25 23.5 7.42188 23.5 8.75ZM21 31.875C18.5781 31.875 16.625 29.9219 16.625 27.5C16.625 25.1562 18.5 23.2031 20.8438 23.125L26.1562 11.1719C26.5469 10.2344 27.6406 9.76562 28.5781 10.2344C29.5156 10.625 29.9844 11.7188 29.5938 12.6562L24.2812 24.6875C24.9062 25.4688 25.375 26.4062 25.375 27.5C25.375 29.9219 23.3438 31.875 21 31.875ZM16 12.5C16 13.9062 14.8281 15 13.5 15C12.0938 15 11 13.9062 11 12.5C11 11.1719 12.0938 10 13.5 10C14.8281 10 16 11.1719 16 12.5ZM9.75 22.5C8.34375 22.5 7.25 21.4062 7.25 20C7.25 18.6719 8.34375 17.5 9.75 17.5C11.0781 17.5 12.25 18.6719 12.25 20C12.25 21.4062 11.0781 22.5 9.75 22.5ZM34.75 20C34.75 21.4062 33.5781 22.5 32.25 22.5C30.8438 22.5 29.75 21.4062 29.75 20C29.75 18.6719 30.8438 17.5 32.25 17.5C33.5781 17.5 34.75 18.6719 34.75 20Z","fill","#9297A0"],[1,"text-4xl","font-bold","text-gray-800"],[3,"formGroup"],[1,""],[1,"bg-gray-100","mt-3","flex","items-center","justify-between","p-4"],[1,"flex","items-center","space-x-4"],[1,"w-8","h-8","rounded-sm","bg-green-500"],[1,"font-semibold","text-secondary-zenithr"],["type","number","formControlName","promoters",1,"bg-white","w-24","rounded","text-right","p-2","focus:outline-none","focus:border-blue-500"],[1,"w-8","h-8","rounded-sm","bg-orange-500"],["type","number","formControlName","passives",1,"bg-white","w-24","rounded","text-right","p-2","focus:outline-none","focus:border-blue-500"],[1,"w-8","h-8","rounded-sm","bg-red-500"],["type","number","formControlName","detractors",1,"bg-white","w-24","rounded","text-right","p-2","focus:outline-none","focus:border-blue-500"],[1,"mt-4","p-4","flex","justify-between","items-center","font-bold","text-gray-800"],[3,"ngClass"],[1,"mt-2","text-red-500","text-sm","text-center"]],template:function(o,r){o&1&&(e(0,"div",0)(1,"h1",1),i(2,"Configure eNPS Settings"),t(),e(3,"div",2),c(),e(4,"svg",3),a(5,"path",4),t(),p(),e(6,"div",5),i(7),t()(),e(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9),a(12,"div",10),e(13,"span",11),i(14,"Promoters"),t()(),a(15,"input",12),t(),e(16,"div",8)(17,"div",9),a(18,"div",13),e(19,"span",11),i(20,"Passives"),t()(),a(21,"input",14),t(),e(22,"div",8)(23,"div",9),a(24,"div",15),e(25,"span",11),i(26,"Detractors"),t()(),a(27,"input",16),t()()(),e(28,"div",17)(29,"span"),i(30,"Total"),t(),e(31,"span",18),i(32),t()(),g(33,j,2,0,"p",19),t()),o&2&&(m(7),d(" ",r.overallScore,"% "),m(),s("formGroup",r.form),m(23),s("ngClass",h(5,T,r.totalPercentage!==100)),m(),d("",r.totalPercentage,"%"),m(),b(r.form.invalid&&r.totalPercentage!==100?33:-1))},dependencies:[P,y,S,N,E,w,F,V,x],encapsulation:2})};export{G as EnpsComponent};
