import{a as M}from"./chunk-EFQI3KFR.js";import{a as E,c as _,g as N,h as F,p as T,q as V,s as A,t as O}from"./chunk-P3IMJ623.js";import{Da as I,E as m,H as v,R as f,S as x,U as g,V as h,W as b,X as i,Y as r,ba as C,ca as S,da as s,la as n,ma as y,na as l,r as d,s as c,t as p,ta as w,va as D,y as u}from"./chunk-ZKFZ3KB2.js";var P=(o,t)=>t.id;function W(o,t){if(o&1){let e=C();i(0,"div",5)(1,"div",10)(2,"div",11),n(3),r(),i(4,"span",12),n(5),r()(),i(6,"input",13),S("input",function(){c(e);let j=s();return p(j.onWeightChange())}),r()()}if(o&2){let e=t.$implicit,a=s();m(3),l(" ",e.id," "),m(2),y(e.name),m(),b("formControl",a.getControl(e.id))}}function z(o,t){if(o&1&&(i(0,"div",9),n(1," Total weight must equal 100%. Current total: "),i(2,"span",14),n(3),w(4,"number"),r()()),o&2){let e=s();m(3),l("",D(4,1,e.totalWeight,"1.0-0"),"%")}}var R=class o{formService=d(M);form=this.formService.mainForm.get("impactDriversForm");driversData=[{id:"I",name:"INNOVATION",avg:88},{id:"M",name:"MOTIVATION",avg:67},{id:"P",name:"PERFORMANCE",avg:35},{id:"A",name:"AUTONOMY",avg:56},{id:"C",name:"CONNECTION",avg:32},{id:"T",name:"TRANSFORMATIONAL LEADERSHIP",avg:21}];drivers=u(this.driversData);constructor(){}get totalWeight(){return Object.values(this.form.value).reduce((t,e)=>t+Number(e),0)}get overallScore(){return Math.round(this.driversData.reduce((t,e)=>{let a=this.form.get(e.id)?.value||0;return t+a*e.avg/100},0))}get isValid(){return this.form.valid}onWeightChange(){this.form.updateValueAndValidity()}getControl(t){return this.form.get(t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-set-impact-drivers"]],decls:18,vars:2,consts:[[1,"p-6"],[1,"text-xl","font-bold","mb-1"],[1,"text-sm","text-gray-600","mb-6"],[1,"flex","justify-between","items-center","py-2","px-4"],[1,"font-semibold","text-sm","text-secondary-zenithr"],[1,"flex","justify-between","items-center","py-3","px-4","mt-1","bg-gray-100","rounded-sm"],[1,"mt-6","pt-4","border-t","border-gray-200","flex","justify-between","items-center"],[1,"font-medium"],[1,"w-20","h-10","px-2","py-2","shadow","bg-white","rounded","text-right","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"mt-4","p-3","bg-yellow-100","text-yellow-800","rounded","text-sm"],[1,"flex","items-center","space-x-3"],[1,"w-9","h-9","bg-blue-zenithr","text-white","rounded-md","flex","items-center","justify-center","font-bold","text-3xl"],[1,"text-sm","font-medium","text-secondary-zenithr"],["type","number","min","0","max","100",1,"w-20","h-10","px-2","py-1","shadow","bg-white","rounded","text-right","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","formControl"],[1,"font-bold"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h1",1),n(2,"Set the Impact Drivers"),r(),i(3,"p",2),n(4," Distribute the weightage (in percentages) for different factors. The total should sum up to 100%. The system will calculate the Overall Score dynamically based on the provided values. "),r(),i(5,"div",3)(6,"span",4),n(7,"DRIVERS"),r(),i(8,"span",4),n(9,"AVG."),r()(),g(10,W,7,3,"div",5,P),i(12,"div",6)(13,"span",7),n(14,"Overall Score"),r(),i(15,"div",8),n(16),r()(),f(17,z,5,4,"div",9),r()),e&2&&(m(10),h(a.drivers()),m(6),l(" ",a.overallScore,"% "),m(),x(a.form.hasError("totalNot100")?17:-1))},dependencies:[O,E,N,_,V,T,F,A,I],encapsulation:2})};export{R as SetImpactDriversComponent};
