import{a as T,c as R,d as M,e as G,g as V,h as k,r as I,s as K,t as Q}from"./chunk-U3ISB6AL.js";import{$ as D,A as g,J as p,K as u,L as x,M as y,N as h,O as l,P as r,Q as o,V as _,W as b,X as c,_ as F,aa as S,da as n,fa as E,ha as w,l as f,m as C,n as v,ra as N,s as d,x as s}from"./chunk-DZVIGEAG.js";var P=["textarea"],$=t=>({"bg-blue-100 font-bold text-blue-800":t});function q(t,i){if(t&1){let e=_();r(0,"li",12),b("click",function(){let a=C(e).$implicit,O=c();return v(O.updateSelectedDriver(a))}),n(1),o()}if(t&2){let e=i.$implicit,m=c();l("ngClass",w(2,$,m.selectedDriver()===e)),s(),E(" ",e," ")}}function A(t,i){if(t&1&&(r(0,"form",10)(1,"div",13)(2,"textarea",14,0),n(4,"          "),o(),r(5,"span",15),n(6,"\u{1F310}"),o()()()),t&2){let e=c();l("formGroup",e.form),s(2),l("formControl",e.currentFormControl())}}function B(t,i){t&1&&(r(0,"div",11),n(1,"Select a driver to add a comment."),o())}var j=class t{textareaRef;formService=f(Q);form=this.formService.mainForm.get("commentsForm");selectedDriver=d(this.controlKeys.at(0)||"");currentFormControl=d(this.form.get(this.controlKeys[0]));get controlKeys(){return Object.keys(this.form.controls)}updateSelectedDriver(i){this.selectedDriver.update(()=>i),this.currentFormControl.update(()=>this.form.get(i)),setTimeout(()=>{this.textareaRef?.nativeElement.focus()})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-comments"]],viewQuery:function(e,m){if(e&1&&F(P,5),e&2){let a;D(a=S())&&(m.textareaRef=a.first)}},decls:17,vars:2,consts:[["textarea",""],[1,"p-6"],[1,"text-xl","font-bold","mb-2"],[1,"text-gray-600","mb-6"],[1,"grid","grid-cols-3","gap-6"],[1,"col-span-1","bg-white","border","rounded-md","shadow","p-4"],[1,"text-sm","font-semibold","text-gray-400","mb-2"],[1,"space-y-2"],[1,"p-3","rounded-md","cursor-pointer","hover:bg-gray-100","transition-colors",3,"ngClass"],[1,"col-span-2","bg-white","border","rounded-md","shadow","p-4"],[3,"formGroup"],[1,"p-4","text-center","text-gray-500"],[1,"p-3","rounded-md","cursor-pointer","hover:bg-gray-100","transition-colors",3,"click","ngClass"],[1,"relative"],["rows","6","placeholder","Type your comment here...",1,"w-full","border","rounded-md","p-3","focus:outline-none","focus:border-blue-500",3,"formControl"],[1,"absolute","top-3","right-3","text-gray-400","text-lg"]],template:function(e,m){e&1&&(r(0,"div",1)(1,"h1",2),n(2,"Comments"),o(),r(3,"p",3),n(4,"Provide insights or justifications for each selected driver"),o(),r(5,"div",4)(6,"div",5)(7,"h2",6),n(8,"LIST OF DRIVER"),o(),r(9,"ul",7),y(10,q,2,4,"li",8,x),o()(),r(12,"div",9)(13,"h2",6),n(14,"COMMENT"),o(),p(15,A,7,2,"form",10),p(16,B,2,0,"div",11),o()()()),e&2&&(s(10),h(m.controlKeys),s(5),u(m.selectedDriver()?15:-1),s(),u(m.selectedDriver()?-1:16))},dependencies:[K,G,T,R,M,V,k,I,N],encapsulation:2})};export{j as CommentsComponent};
